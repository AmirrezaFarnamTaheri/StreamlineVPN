<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamlineVPN Configuration Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../api-base.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <style>
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; }
        .bg-app {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
        }
        .animated-bg {
            position: fixed; inset: 0; background: linear-gradient(125deg, #667eea, #764ba2, #f093fb, #667eea);
            background-size: 400% 400%; animation: gradientShift 18s ease infinite; opacity: 0.05; z-index: -1;
        }
        @keyframes gradientShift { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }
        .glass { background: rgba(255,255,255,0.08); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.12); }
        .glass-dark { background: rgba(0,0,0,0.4); backdrop-filter: blur(16px); border: 1px solid rgba(255,255,255,0.08); }
        @keyframes fade-in-up { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes slide-in { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.3); } 50% { box-shadow: 0 0 40px rgba(102, 126, 234, 0.6); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        @keyframes morphing { 0%, 100% { border-radius: 20px; } 25% { border-radius: 50px; } 50% { border-radius: 30px; } 75% { border-radius: 40px; } }
        @keyframes particle-float { 0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; } 50% { transform: translateY(-20px) rotate(180deg); opacity: 1; } }
        @keyframes text-shimmer { 0% { background-position: -200% center; } 100% { background-position: 200% center; } }
        @keyframes card-hover { 0% { transform: translateY(0) scale(1); } 100% { transform: translateY(-8px) scale(1.02); } }
        @keyframes pulse-ring { 0% { transform: scale(0.8); opacity: 1; } 100% { transform: scale(2.4); opacity: 0; } }
        @keyframes data-flow { 0% { transform: translateX(-100%); } 100% { transform: translateX(100vw); } }
        @keyframes wiggle { 0%, 7% { transform: rotateZ(0); } 15% { transform: rotateZ(-15deg); } 20% { transform: rotateZ(10deg); } 25% { transform: rotateZ(-10deg); } 30% { transform: rotateZ(6deg); } 35% { transform: rotateZ(-4deg); } 40%, 100% { transform: rotateZ(0); } }
        .animate-fade-in-up { animation: fade-in-up 0.6s ease-out; }
        .animate-slide-in { animation: slide-in 0.4s ease-out; }
        .animate-glow { animation: glow 2s ease-in-out infinite; }
        .animate-pulse { animation: pulse 2s ease-in-out infinite; }
        .animate-shimmer { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); background-size: 200% 100%; animation: shimmer 2s infinite; }
        .animate-morphing { animation: morphing 4s ease-in-out infinite; }
        .animate-particle-float { animation: particle-float 3s ease-in-out infinite; }
        .animate-text-shimmer { background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #667eea); background-size: 200% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: text-shimmer 3s linear infinite; }
        .animate-card-hover { transition: all 0.3s ease; }
        .animate-card-hover:hover { animation: card-hover 0.3s ease forwards; }
        .animate-pulse-ring { position: relative; }
        .animate-pulse-ring::before { content: ''; position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 50%; transform: translate(-50%, -50%); animation: pulse-ring 2s infinite; }
        .animate-data-flow { position: relative; overflow: hidden; }
        .animate-data-flow::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #667eea, transparent); animation: data-flow 3s linear infinite; }
        .animate-wiggle { animation: wiggle 1s ease-in-out; }
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        .stagger-5 { animation-delay: 0.5s; }
        .stagger-6 { animation-delay: 0.6s; }
        .code-block { background: rgba(0,0,0,0.6); border-radius: 8px; padding: 1rem; font-family: 'Fira Code', monospace; }
        .config-card { transition: all 0.3s ease; cursor: pointer; }
        .config-card:hover { transform: translateY(-4px); background: rgba(255,255,255,0.12); }
        .sidebar { position: sticky; top: 2rem; height: fit-content; }
        .nav-link { transition: all 0.3s ease; }
        .nav-link:hover { background: rgba(102, 126, 234, 0.1); transform: translateX(4px); }
        .nav-link.active { background: rgba(102, 126, 234, 0.2); border-left: 3px solid #667eea; }
        .tab-btn { border-bottom-width: 2px; border-color: transparent; color: #9ca3af; }
        .tab-btn.active { color: #fff; border-color: rgb(129 140 248); }
        .feature-badge { background: linear-gradient(135deg, #667eea, #764ba2); }
        .config-preview { background: rgba(0,0,0,0.8); border: 1px solid rgba(255,255,255,0.1); }
        .interactive-config { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); }
        .config-status { position: relative; }
        .config-status::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #10b981, #3b82f6, #f59e0b); animation: shimmer 2s infinite; }
    </style>
</head>
<body class="bg-app text-white">
<div class="animated-bg"></div>

<!-- Header -->
<header class="glass border-b border-white/10 sticky top-0 z-50 config-status">
    <div class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <a href="../index.html" class="flex items-center space-x-3 group">
                    <img src="../assets/logo.svg" alt="StreamlineVPN Logo" class="h-10 w-10 group-hover:scale-110 transition-transform animate-wiggle">
                    <div>
                        <h1 class="text-xl font-bold group-hover:text-purple-400 transition-colors animate-text-shimmer">StreamlineVPN Config</h1>
                        <p class="text-sm text-gray-400">Configuration Management</p>
                    </div>
                </a>
            </div>
            <div class="flex items-center space-x-4">
                <a href="../index.html" class="px-4 py-2 text-gray-300 hover:text-white transition">
                    <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    Back to Home
                </a>
                <div class="px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm animate-pulse">
                    v2.0
                </div>
                <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                    <span class="text-sm text-green-400">Config Valid</span>
                </div>
            </div>
        </div>
    </div>
</header>

<div class="container mx-auto px-6 py-8 max-w-7xl">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
        <!-- Sidebar Navigation -->
        <div class="lg:col-span-1">
            <div class="sidebar glass rounded-xl p-6 animate-morphing">
                <h3 class="text-lg font-semibold mb-4 animate-fade-in-up animate-text-shimmer">‚öôÔ∏è Configuration Guide</h3>
                <nav class="space-y-2">
                    <a href="#overview" class="nav-link block px-4 py-2 rounded-lg text-sm animate-slide-in stagger-1">üöÄ Overview</a>
                    <a href="#quick-start" class="nav-link block px-4 py-2 rounded-lg text-sm animate-slide-in stagger-2">‚ö° Quick Start</a>
                    <a href="#sources" class="nav-link block px-4 py-2 rounded-lg text-sm animate-slide-in stagger-3">üåê Source Config</a>
                    <a href="#processing" class="nav-link block px-4 py-2 rounded-lg text-sm animate-slide-in stagger-4">üîÑ Processing</a>
                    <a href="#outputs" class="nav-link block px-4 py-2 rounded-lg text-sm animate-slide-in stagger-5">üì§ Output Formats</a>
                    <a href="#advanced" class="nav-link block px-4 py-2 rounded-lg text-sm animate-slide-in stagger-6">üîß Advanced</a>
                </nav>
                
                <div class="mt-8 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20 animate-shimmer">
                    <h4 class="font-semibold text-blue-400 mb-2">üõ†Ô∏è Interactive Config</h4>
                    <p class="text-sm text-gray-300 mb-3">Test configurations in real-time</p>
                    <button onclick="openConfigGenerator()" class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm transition animate-card-hover">
                        Open Generator
                    </button>
                </div>

                <div class="mt-4 p-4 bg-green-500/10 rounded-lg border border-green-500/20 animate-shimmer">
                    <h4 class="font-semibold text-green-400 mb-2">üìä Config Status</h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>Sources:</span>
                            <span class="text-green-400" id="configSources">523</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Valid Configs:</span>
                            <span class="text-blue-400" id="validConfigs">486</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Last Update:</span>
                            <span class="text-purple-400" id="lastUpdate">2m ago</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="lg:col-span-3">
            <!-- Overview Section -->
            <section id="overview" class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing">
                    <h2 class="text-3xl font-bold mb-6 flex items-center animate-text-shimmer">
                        üöÄ Configuration Overview
                        <span class="ml-3 px-3 py-1 feature-badge text-white rounded-full text-sm animate-pulse">v2.0</span>
                    </h2>
                    <p class="text-lg text-gray-300 mb-6 animate-shimmer">
                        StreamlineVPN uses YAML-based configuration files to manage VPN sources, processing pipelines, 
                        and output formats. This guide covers all configuration options and best practices.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="glass-dark rounded-lg p-6 text-center animate-card-hover animate-data-flow">
                            <div class="text-3xl mb-3 animate-wiggle">üìù</div>
                            <h3 class="font-semibold mb-2 animate-text-shimmer">YAML Based</h3>
                            <p class="text-sm text-gray-400">Human-readable configuration format</p>
                        </div>
                        <div class="glass-dark rounded-lg p-6 text-center animate-card-hover animate-data-flow">
                            <div class="text-3xl mb-3 animate-wiggle">üîß</div>
                            <h3 class="font-semibold mb-2 animate-text-shimmer">Flexible</h3>
                            <p class="text-sm text-gray-400">Highly customizable processing options</p>
                        </div>
                        <div class="glass-dark rounded-lg p-6 text-center animate-card-hover animate-data-flow">
                            <div class="text-3xl mb-3 animate-wiggle">‚ö°</div>
                            <h3 class="font-semibold mb-2 animate-text-shimmer">Fast</h3>
                            <p class="text-sm text-gray-400">Optimized for high-performance processing</p>
                        </div>
                    </div>

                    <div class="bg-gray-800/50 rounded-lg p-6 animate-shimmer">
                        <h4 class="font-semibold mb-3 animate-text-shimmer">üìÅ Configuration Structure</h4>
                        <div class="code-block">
                            <pre><code class="language-yaml">config/
‚îú‚îÄ‚îÄ sources.yaml          # VPN source definitions
‚îú‚îÄ‚îÄ processing.yaml       # Processing pipeline config
‚îú‚îÄ‚îÄ outputs.yaml          # Output format settings
‚îî‚îÄ‚îÄ advanced.yaml         # Advanced options</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Interactive Configuration Builder -->
            <section class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing interactive-config">
                    <h2 class="text-3xl font-bold mb-6 animate-text-shimmer">üéÆ Interactive Configuration Builder</h2>
                    <p class="text-gray-300 mb-6">Build and test your configuration in real-time</p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="glass-dark rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-4 animate-text-shimmer">Configuration Builder</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Source Name</label>
                                    <input type="text" id="sourceName" placeholder="My VPN Source" 
                                           class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:border-blue-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Source URL</label>
                                    <input type="url" id="sourceUrl" placeholder="https://example.com/configs.txt" 
                                           class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:border-blue-500 focus:outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Tier</label>
                                    <select id="sourceTier" class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:border-blue-500 focus:outline-none">
                                        <option value="premium">Premium</option>
                                        <option value="reliable">Reliable</option>
                                        <option value="community">Community</option>
                                        <option value="experimental">Experimental</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Protocols</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center">
                                            <input type="checkbox" value="vless" class="mr-2">
                                            <span>VLESS</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" value="vmess" class="mr-2">
                                            <span>VMess</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" value="trojan" class="mr-2">
                                            <span>Trojan</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" value="ss" class="mr-2">
                                            <span>Shadowsocks</span>
                                        </label>
                                    </div>
                                </div>
                                <button onclick="generateConfig()" class="w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition animate-card-hover">
                                    Generate Configuration
                                </button>
                            </div>
                        </div>
                        
                        <div class="glass-dark rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-4 animate-text-shimmer">Generated Configuration</h3>
                            <div id="generatedConfig" class="config-preview rounded-lg p-4 min-h-[300px] text-sm font-mono overflow-auto">
                                <div class="text-gray-400">Configure the options above to generate your configuration...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Start Section -->
            <section id="quick-start" class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing">
                    <h2 class="text-3xl font-bold mb-6 animate-text-shimmer">‚ö° Quick Start Configuration</h2>
                    
                    <div class="space-y-6">
                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">1Ô∏è‚É£ Basic Sources Configuration</h3>
                            <p class="text-gray-300 mb-4">Create your first sources configuration file:</p>
                            <div class="code-block">
                                <pre><code class="language-yaml"># config/sources.yaml
sources:
  - name: "Premium Provider"
    url: "https://example.com/configs.txt"
    tier: "premium"
    enabled: true
    timeout: 30
    retry_count: 3
    
  - name: "Community Source"
    url: "https://community.example.com/vpn.txt"
    tier: "community"
    enabled: true
    timeout: 15
    retry_count: 2

processing:
  max_concurrent: 10
  quality_threshold: 0.7
  deduplication: true</code></pre>
                            </div>
                        </div>

                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">2Ô∏è‚É£ Processing Pipeline Configuration</h3>
                            <p class="text-gray-300 mb-4">Configure the processing pipeline:</p>
                            <div class="code-block">
                                <pre><code class="language-yaml"># config/processing.yaml
pipeline:
  name: "default"
  enabled: true
  
  steps:
    - name: "fetch"
      timeout: 60
      retry_count: 3
      
    - name: "parse"
      protocols: ["vless", "vmess", "trojan", "ss"]
      validate: true
      
    - name: "quality_check"
      enabled: true
      threshold: 0.8
      
    - name: "deduplicate"
      enabled: true
      method: "hash"

output:
  formats: ["json", "clash", "singbox"]
  compression: true
  directory: "output"</code></pre>
                            </div>
                        </div>

                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">3Ô∏è‚É£ Run the Pipeline</h3>
                            <p class="text-gray-300 mb-4">Start processing with your configuration:</p>
                            <div class="code-block">
                                <pre><code class="language-bash"># Using the API
curl -X POST http://localhost:8080/api/process \
  -H "Content-Type: application/json" \
  -d '{
    "config_path": "config/sources.yaml",
    "output_dir": "output",
    "formats": ["json", "clash"]
  }'

# Using the CLI
streamlinevpn process --config config/sources.yaml --output output</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sources Configuration Section -->
            <section id="sources" class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing">
                    <h2 class="text-3xl font-bold mb-6 animate-text-shimmer">üåê Source Configuration</h2>
                    
                    <div class="space-y-6">
                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">üìã Source Definition Schema</h3>
                            <div class="code-block">
                                <pre><code class="language-yaml">sources:
  - name: string              # Human-readable name
    url: string               # Source URL
    tier: string              # premium|reliable|community|experimental
    enabled: boolean          # Enable/disable source
    timeout: integer          # Request timeout in seconds
    retry_count: integer      # Number of retry attempts
    headers:                  # Custom HTTP headers
      User-Agent: string
      Authorization: string
    filters:                  # Source-specific filters
      protocols: [string]     # Allowed protocols
      countries: [string]     # Allowed countries
      quality_min: float      # Minimum quality score</code></pre>
                            </div>
                        </div>

                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">üèÜ Tier Configuration</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/20">
                                    <h4 class="font-semibold text-yellow-400 mb-2">Premium</h4>
                                    <ul class="text-sm text-gray-300 space-y-1">
                                        <li>‚Ä¢ High reliability sources</li>
                                        <li>‚Ä¢ SLA guarantees</li>
                                        <li>‚Ä¢ Priority processing</li>
                                        <li>‚Ä¢ Advanced features</li>
                                    </ul>
                                </div>
                                <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-500/20">
                                    <h4 class="font-semibold text-blue-400 mb-2">Reliable</h4>
                                    <ul class="text-sm text-gray-300 space-y-1">
                                        <li>‚Ä¢ Verified community sources</li>
                                        <li>‚Ä¢ Consistent uptime</li>
                                        <li>‚Ä¢ Good performance</li>
                                        <li>‚Ä¢ Regular updates</li>
                                    </ul>
                                </div>
                                <div class="p-4 bg-green-500/10 rounded-lg border border-green-500/20">
                                    <h4 class="font-semibold text-green-400 mb-2">Community</h4>
                                    <ul class="text-sm text-gray-300 space-y-1">
                                        <li>‚Ä¢ Open-source aggregators</li>
                                        <li>‚Ä¢ Public lists</li>
                                        <li>‚Ä¢ Variable quality</li>
                                        <li>‚Ä¢ Free access</li>
                                    </ul>
                                </div>
                                <div class="p-4 bg-purple-500/10 rounded-lg border border-purple-500/20">
                                    <h4 class="font-semibold text-purple-400 mb-2">Experimental</h4>
                                    <ul class="text-sm text-gray-300 space-y-1">
                                        <li>‚Ä¢ New sources under test</li>
                                        <li>‚Ä¢ Unstable performance</li>
                                        <li>‚Ä¢ Limited support</li>
                                        <li>‚Ä¢ Use with caution</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Processing Configuration Section -->
            <section id="processing" class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing">
                    <h2 class="text-3xl font-bold mb-6 animate-text-shimmer">üîÑ Processing Configuration</h2>
                    
                    <div class="space-y-6">
                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">‚öôÔ∏è Pipeline Configuration</h3>
                            <div class="code-block">
                                <pre><code class="language-yaml">pipeline:
  name: "production"
  enabled: true
  max_concurrent: 20
  timeout: 300
  
  steps:
    # Step 1: Fetch configurations
    - name: "fetch"
      timeout: 60
      retry_count: 3
      rate_limit: 10  # requests per minute
      
    # Step 2: Parse and validate
    - name: "parse"
      protocols: ["vless", "vmess", "trojan", "ss", "ssr"]
      validate: true
      strict_mode: false
      
    # Step 3: Quality assessment
    - name: "quality_check"
      enabled: true
      threshold: 0.7
      ml_model: "lstm_v2"
      
    # Step 4: Deduplication
    - name: "deduplicate"
      enabled: true
      method: "hash"  # hash|similarity|exact
      threshold: 0.95
      
    # Step 5: Filtering
    - name: "filter"
      enabled: true
      rules:
        - type: "country"
          action: "include"
          values: ["US", "UK", "DE", "JP"]
        - type: "protocol"
          action: "exclude"
          values: ["ssr"]
        - type: "quality"
          action: "include"
          min_value: 0.8</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Output Formats Section -->
            <section id="outputs" class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing">
                    <h2 class="text-3xl font-bold mb-6 animate-text-shimmer">üì§ Output Formats</h2>
                    
                    <div class="space-y-6">
                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">üìã Supported Formats</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="p-4 bg-blue-500/10 rounded-lg border border-blue-500/20">
                                    <h4 class="font-semibold text-blue-400 mb-2">JSON</h4>
                                    <p class="text-sm text-gray-300">Structured data format for APIs and applications</p>
                                </div>
                                <div class="p-4 bg-green-500/10 rounded-lg border border-green-500/20">
                                    <h4 class="font-semibold text-green-400 mb-2">Clash</h4>
                                    <p class="text-sm text-gray-300">Clash proxy configuration format</p>
                                </div>
                                <div class="p-4 bg-purple-500/10 rounded-lg border border-purple-500/20">
                                    <h4 class="font-semibold text-purple-400 mb-2">Sing-Box</h4>
                                    <p class="text-sm text-gray-300">Sing-Box universal proxy format</p>
                                </div>
                                <div class="p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/20">
                                    <h4 class="font-semibold text-yellow-400 mb-2">Base64</h4>
                                    <p class="text-sm text-gray-300">Base64 encoded configuration strings</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Advanced Configuration Section -->
            <section id="advanced" class="mb-12">
                <div class="glass rounded-xl p-8 animate-fade-in-up animate-morphing">
                    <h2 class="text-3xl font-bold mb-6 animate-text-shimmer">üîß Advanced Configuration</h2>
                    
                    <div class="space-y-6">
                        <div class="config-card glass-dark rounded-lg p-6 animate-card-hover animate-data-flow">
                            <h3 class="text-xl font-semibold mb-4 animate-text-shimmer">üöÄ Performance Tuning</h3>
                            <div class="code-block">
                                <pre><code class="language-yaml">performance:
  # Concurrency settings
  max_concurrent_sources: 20
  max_concurrent_requests: 100
  connection_pool_size: 50
  
  # Timeout settings
  global_timeout: 300
  source_timeout: 60
  parse_timeout: 30
  
  # Memory management
  max_memory_usage: "2GB"
  gc_threshold: 0.8
  cache_size: "512MB"
  
  # CPU optimization
  worker_threads: 8
  io_threads: 4
  enable_async: true</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    // Load configuration status
    const API_BASE = window.__API_BASE__ || 'http://localhost:8080';
    
    async function loadConfigStatus() {
        try {
            const response = await fetch(`${API_BASE}/api/statistics`);
            if (response.ok) {
                const data = await response.json();
                document.getElementById('configSources').textContent = data.total_sources || '523';
                document.getElementById('validConfigs').textContent = data.active_sources || '486';
                document.getElementById('lastUpdate').textContent = '2m ago';
            }
        } catch (error) {
            console.warn('Failed to load config status:', error);
        }
    }
    
    // Interactive configuration builder
    function generateConfig() {
        const name = document.getElementById('sourceName').value || 'My VPN Source';
        const url = document.getElementById('sourceUrl').value || 'https://example.com/configs.txt';
        const tier = document.getElementById('sourceTier').value;
        const protocols = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);
        
        const config = {
            sources: [{
                name: name,
                url: url,
                tier: tier,
                enabled: true,
                timeout: 30,
                retry_count: 3,
                protocols: protocols.length > 0 ? protocols : ['vless', 'vmess', 'trojan', 'ss']
            }],
            processing: {
                max_concurrent: 10,
                quality_threshold: 0.7,
                deduplication: true
            }
        };
        
        const configDiv = document.getElementById('generatedConfig');
        configDiv.innerHTML = `<pre class="text-green-400">${JSON.stringify(config, null, 2)}</pre>`;
    }
    
    // Open config generator
    function openConfigGenerator() {
        window.open('../config_generator.html', '_blank');
    }
    
    // Load config status on page load
    loadConfigStatus();
    setInterval(loadConfigStatus, 30000); // Update every 30 seconds
    
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
                
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                this.classList.add('active');
            }
        });
    });

    // Intersection Observer for active nav highlighting
    const observerOptions = {
        root: null,
        rootMargin: '-20% 0px -70% 0px',
        threshold: 0
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.getAttribute('id');
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${id}`) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, observerOptions);

    // Observe all sections
    document.querySelectorAll('section[id]').forEach(section => {
        observer.observe(section);
    });

    // Add hover effects to config cards
    document.querySelectorAll('.config-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-4px)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
</script>
</body>
</html>